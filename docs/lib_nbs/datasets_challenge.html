<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>andi_datasets - datasets_challenge</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js" crossorigin="anonymous"></script>


<meta property="og:title" content="andi_datasets - datasets_challenge">
<meta property="og:description" content="source">
<meta property="og:site-name" content="andi_datasets">
<meta name="twitter:title" content="andi_datasets - datasets_challenge">
<meta name="twitter:description" content="source">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="index.ipynb" class="navbar-brand navbar-brand-logo">
    <img src="../figures/logo_noname.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">andi_datasets</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../lib_nbs/index_docs.html" aria-current="page">Documentation</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../tutorials/index_tutorials.html">Tutorials</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://andi-app.herokuapp.com/andi_app">ANDI interactive tool</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">datasets_challenge</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../lib_nbs/index_docs.html" class="sidebar-item-text sidebar-link">Documentation</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Theory datasets</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lib_nbs/models_theory.html" class="sidebar-item-text sidebar-link"><code>models_theory</code></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lib_nbs/datasets_theory.html" class="sidebar-item-text sidebar-link"><code>datasets_theory</code></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">Phenomenological datasets</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lib_nbs/models_phenom.html" class="sidebar-item-text sidebar-link"><code>models_phenom</code></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lib_nbs/datasets_phenom.html" class="sidebar-item-text sidebar-link"><code>datasets_phenom</code></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">ANDI challenge datasets</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lib_nbs/datasets_challenge.html" class="sidebar-item-text sidebar-link active">datasets_challenge</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lib_nbs/utils_challenge.html" class="sidebar-item-text sidebar-link">Help functions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">Trajectory analysis</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lib_nbs/analysis.html" class="sidebar-item-text sidebar-link">analysis</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">Helpers</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lib_nbs/utils_trajectories.html" class="sidebar-item-text sidebar-link">utils_trajectories</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lib_nbs/utils_videos.html" class="sidebar-item-text sidebar-link">utils_videos</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../tutorials/index_tutorials.html" class="sidebar-item-text sidebar-link">Tutorials</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/challenge_one_datasets.html" class="sidebar-item-text sidebar-link">Theory models and AnDi 2020</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/challenge_one_submission.html" class="sidebar-item-text sidebar-link">ANDI 2020 submission: from trajectories to predictions</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/challenge_two_datasets.html" class="sidebar-item-text sidebar-link">Phenom models and ANDI 2022</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/creating_videos_phenom.html" class="sidebar-item-text sidebar-link">Creating videos tutorial</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#andi-challenge-2020" id="toc-andi-challenge-2020" class="nav-link active" data-scroll-target="#andi-challenge-2020">ANDI challenge 2020</a>
  <ul class="collapse">
  <li><a href="#challenge_2020_dataset" id="toc-challenge_2020_dataset" class="nav-link" data-scroll-target="#challenge_2020_dataset">challenge_2020_dataset</a></li>
  </ul></li>
  <li><a href="#andi-challenge-2022" id="toc-andi-challenge-2022" class="nav-link" data-scroll-target="#andi-challenge-2022">ANDI challenge 2022</a>
  <ul class="collapse">
  <li><a href="#defaults_andi2" id="toc-defaults_andi2" class="nav-link" data-scroll-target="#defaults_andi2">_defaults_andi2</a></li>
  <li><a href="#get_dic_andi2" id="toc-get_dic_andi2" class="nav-link" data-scroll-target="#get_dic_andi2">_get_dic_andi2</a></li>
  <li><a href="#challenge_2022_dataset" id="toc-challenge_2022_dataset" class="nav-link" data-scroll-target="#challenge_2022_dataset">challenge_2022_dataset</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a>
  <ul class="collapse">
  <li><a href="#distributions-parameters" id="toc-distributions-parameters" class="nav-link" data-scroll-target="#distributions-parameters">Distributions parameters</a></li>
  <li><a href="#fovs" id="toc-fovs" class="nav-link" data-scroll-target="#fovs">FOVs</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/andichallenge/andi_datasets/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">datasets_challenge</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<section id="andi-challenge-2020" class="level1">
<h1>ANDI challenge 2020</h1>
<pre><code>C:\Users\Gorka\Anaconda3\envs\andi_dataset\lib\site-packages\fastcore\docscrape.py:225: UserWarning: Unknown section Notes
  else: warn(msg)</code></pre>
<hr>
<p><a href="https://github.com/gorka.munoz/andi_datasets/blob/master/andi_datasets/datasets_challenge.py#L20" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="challenge_2020_dataset" class="level3">
<h3 class="anchored" data-anchor-id="challenge_2020_dataset">challenge_2020_dataset</h3>
<blockquote class="blockquote">
<pre><code> challenge_2020_dataset (N:numpy.ndarray|int=1000, max_T:int=1000,
                         min_T:int=10, tasks:list|int=[1, 2, 3],
                         dimensions:list|int=[1, 2, 3],
                         load_dataset:{'True','False'}=False,
                         save_dataset:{'True','False'}=False,
                         path_datasets:str='',
                         load_labels:{'True','False'}=True,
                         load_trajectories:{'True','False'}=False,
                         save_trajectories:{'True','False'}=False,
                         path_trajectories:str='datasets/',
                         N_save:int=1000, t_save:int=1000,
                         return_noise:{'True','False'}=False)</code></pre>
</blockquote>
<p>Creates a dataset similar to the one given by in the ANDI challenge. Check the webpage of the challenge for more details. The default values are similar to the ones used to generate the available dataset.</p>
<p>The function returns 6 variables, three variables for the trajectories and three for the corresponding labels. Each variable is a list of three lists. Each of the three lists corresponds to a given dimension, in ascending order. If one of the tasks/dimensions was not calculated, the given list will be empty.</p>
<p>See the tutorials in our Github repository to learn about this function.</p>
<table class="table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>N</td>
<td>numpy.ndarray | int</td>
<td>1000</td>
<td>Number of trajectories per class (i.e.size # models x # classes). If int, all classes have same number.</td>
</tr>
<tr class="even">
<td>max_T</td>
<td>int</td>
<td>1000</td>
<td>Maximum length of the trajectories in the dataset.</td>
</tr>
<tr class="odd">
<td>min_T</td>
<td>int</td>
<td>10</td>
<td>Minimum length of the trajectories in the dataset.</td>
</tr>
<tr class="even">
<td>tasks</td>
<td>list | int</td>
<td>[1, 2, 3]</td>
<td>Task(s) of the ANDI challenge I for which datasets will be generated.</td>
</tr>
<tr class="odd">
<td>dimensions</td>
<td>list | int</td>
<td>[1, 2, 3]</td>
<td>Dimension(s) for which trajectories will be generated. Three possible values: 1, 2 and 3.</td>
</tr>
<tr class="even">
<td>load_dataset</td>
<td>{‘True’, ‘False’}</td>
<td>False</td>
<td>If True, the module loads existing datasets from the files task{}.txt and ref{}.txt.</td>
</tr>
<tr class="odd">
<td>save_dataset</td>
<td>{‘True’, ‘False’}</td>
<td>False</td>
<td>If True, the module saves the datasets in a .txt following the competition format.</td>
</tr>
<tr class="even">
<td>path_datasets</td>
<td>str</td>
<td></td>
<td>Path from where to load the dataset.</td>
</tr>
<tr class="odd">
<td>load_labels</td>
<td>{‘True’, ‘False’}</td>
<td>True</td>
<td>If False, only loads trajectories and avoids the files refX.txt.</td>
</tr>
<tr class="even">
<td>load_trajectories</td>
<td>{‘True’, ‘False’}</td>
<td>False</td>
<td>If True, the module loads the trajectories of an .h5 file.</td>
</tr>
<tr class="odd">
<td>save_trajectories</td>
<td>{‘True’, ‘False’}</td>
<td>False</td>
<td>If True, the module saves a .h5 file for each model considered, with N_save trajectories and T = T_save.</td>
</tr>
<tr class="even">
<td>path_trajectories</td>
<td>str</td>
<td>datasets/</td>
<td>Path from where to load trajectories.</td>
</tr>
<tr class="odd">
<td>N_save</td>
<td>int</td>
<td>1000</td>
<td>Number of trajectories to save for each exponents/model. Advise: save at the beggining<br> a big dataset (i.e.&nbsp;with default t_save N_save) which allows you to load any other combiantion<br> of T and N.</td>
</tr>
<tr class="even">
<td>t_save</td>
<td>int</td>
<td>1000</td>
<td>Length of the trajectories to be saved. See comments on N_save.</td>
</tr>
<tr class="odd">
<td>return_noise</td>
<td>{‘True’, ‘False’}</td>
<td>False</td>
<td>If True, returns the amplitudes of the noises added to the trajectories.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>multiple</strong></td>
<td></td>
<td><strong>Xn (lists): trajectories<br>Yn (lists): labels<br>loc_noise_tn (lists): localization noise amplitudes<br>diff_noise_tn (lists): variance of the diffusion noise</strong></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="andi-challenge-2022" class="level1">
<h1>ANDI challenge 2022</h1>
<hr>
<p><a href="https://github.com/gorka.munoz/andi_datasets/blob/master/andi_datasets/datasets_challenge.py#L394" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="defaults_andi2" class="level3">
<h3 class="anchored" data-anchor-id="defaults_andi2">_defaults_andi2</h3>
<blockquote class="blockquote">
<pre><code> _defaults_andi2 ()</code></pre>
</blockquote>
<p>This class defines the default values set for the ANDI 2022 challenge.</p>
<hr>
<p><a href="https://github.com/gorka.munoz/andi_datasets/blob/master/andi_datasets/datasets_challenge.py#L413" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="get_dic_andi2" class="level3">
<h3 class="anchored" data-anchor-id="get_dic_andi2">_get_dic_andi2</h3>
<blockquote class="blockquote">
<pre><code> _get_dic_andi2 (model)</code></pre>
</blockquote>
<p>Given the number label of diffusion model, returns a default dictionary of the model’s parameters to be fed to create_dataset The numeration is as follow: 1: single state 2: N-state 3: immobilization 4: dimerization 5: confinement</p>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 38%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>model</td>
<td>int in [1,6]</td>
<td>Number of the diffusion model</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>dictionary</strong></td>
<td><strong>Dictionary containing the default parameters for ANDI2022 of the indicated model.</strong></td>
</tr>
</tbody>
</table>
<pre><code>C:\Users\Gorka\Anaconda3\envs\andi_dataset\lib\site-packages\fastcore\docscrape.py:225: UserWarning: potentially wrong underline length... 
Notes 
------- in 
Creates a datasets with same structure as ones given in the ANDI 2022 challenge. Default values for the
various diffusion models have been set such as to be in the same ranges as the ones expected for the...
  else: warn(msg)
C:\Users\Gorka\Anaconda3\envs\andi_dataset\lib\site-packages\fastcore\docscrape.py:225: UserWarning: potentially wrong underline length... 
Video Inputs 
---------- in 
Creates a datasets with same structure as ones given in the ANDI 2022 challenge. Default values for the
various diffusion models have been set such as to be in the same ranges as the ones expected for the...
  else: warn(msg)</code></pre>
<hr>
<p><a href="https://github.com/gorka.munoz/andi_datasets/blob/master/andi_datasets/datasets_challenge.py#L494" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="challenge_2022_dataset" class="level3">
<h3 class="anchored" data-anchor-id="challenge_2022_dataset">challenge_2022_dataset</h3>
<blockquote class="blockquote">
<pre><code> challenge_2022_dataset (experiments=5, dics=None, repeat_exp=True,
                         num_fovs=20, return_timestep_labs=False,
                         save_data=False, path='data/', prefix='',
                         get_video=False, num_vip=None,
                         get_video_masks=False)</code></pre>
</blockquote>
<p>Creates a datasets with same structure as ones given in the ANDI 2022 challenge. Default values for the various diffusion models have been set such as to be in the same ranges as the ones expected for the challenge. For details, check the ANDI 2022 challenge webpage.</p>
<table class="table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>experiments</td>
<td>int</td>
<td>5</td>
<td>- if int: Number of experiments to generate. Each experiment is <br>generated from one of the available diffusion models. <br>- if list: diffusion models to generate (starting with 1!!!!!)</td>
</tr>
<tr class="even">
<td>dics</td>
<td>NoneType</td>
<td>None</td>
<td>If given, uses this to set the parameters of the experiments.<br>Must be of length equal to experiments. <br>This overrides any info about chosen models, as the model is set by the dictionary.</td>
</tr>
<tr class="odd">
<td>repeat_exp</td>
<td>bool</td>
<td>True</td>
<td>-&gt; Does not enter into play if experiments is list <br>If True: picks at random the diffusion model from the pool.<br>If False: picks the diffusion in an ordered way from the pool.</td>
</tr>
<tr class="even">
<td>num_fovs</td>
<td>int</td>
<td>20</td>
<td>Number of field of views to get trajectories from in each experiment.</td>
</tr>
<tr class="odd">
<td>return_timestep_labs</td>
<td>bool</td>
<td>False</td>
<td>If True, the output trajectories dataframes containing also the labels alpha, D and state at each time step.</td>
</tr>
<tr class="even">
<td>save_data</td>
<td>bool</td>
<td>False</td>
<td>If True, saves all pertinent data.</td>
</tr>
<tr class="odd">
<td>path</td>
<td>str</td>
<td>data/</td>
<td>Path where to store the data.</td>
</tr>
<tr class="even">
<td>prefix</td>
<td>str</td>
<td></td>
<td>Extra prefix that can be added in front of the files’ names.</td>
</tr>
<tr class="odd">
<td>get_video</td>
<td>bool</td>
<td>False</td>
<td>If true, get as output the videos generated with Deeptrack for the generated<br>datasets.</td>
</tr>
<tr class="even">
<td>num_vip</td>
<td>NoneType</td>
<td>None</td>
<td>Number of VIP highlighted in the videos.</td>
</tr>
<tr class="odd">
<td>get_video_masks</td>
<td>bool</td>
<td>False</td>
<td>If True, get masks of videos</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>tuple</strong></td>
<td></td>
<td><strong>- trajs_out:<br> List of lenght (experiments x num_fovs). Each elements are is dataframe<br> containing the trajectories of a particular experiment/fov, in order of <br> generation (i.e.&nbsp;[exp1_fov1, exp1_fov2, …, exp2_fov1 ….]).<br> If return_timestep_labs = True, the dataframes also contain the labels<br> at each time step.<br>- labels_traj_out:<br> list of same length of trajs_out containing the labels of the <br> corresponding trajectories. Each element contains a list with the <br> labels of each trajectory, following the scheme:<br> [idx_traj, D_1, alpha_1, state_1, CP_1, D_2, alpha_2, …. state_N]<br>- labels_ens_out:<br> list of same length of trajs_out containing the ensemble labels of <br> given experiment. See description of output matrix in <br> utils_challenge._extract_ensemble()</strong></td>
</tr>
</tbody>
</table>
<p>This function generates trajectory datasets like the ones considered in the ANDI 2022 Challenge. It is based in <code>models_phenom.create_dataset</code> but also applies:</p>
<ul>
<li>Apply Field of View (FOV).</li>
<li>Add localization noise.</li>
<li>Smooth the labeling of trajectories to a minimum segment length of 5.</li>
<li>Extracts ensemble properties.</li>
<li>Generate videos, if asked.</li>
</ul>
<p><strong>Outputs:</strong></p>
<ul>
<li><p><code>trajs_out</code>: List of lenght (experiments x num_fovs). Each elements are is dataframe containing the trajectories of a particular experiment/fov, in order of generation (i.e.&nbsp;[exp1_fov1, exp1_fov2, …, exp2_fov1 ….]). If <code>return_timestep_labs = True</code>, the dataframes also contain the labels at each time step.</p></li>
<li><p><code>trajs_out</code>: if <code>get_video = True</code>, returns the video for each experiments / FOV.</p></li>
<li><p><code>labels_traj_out</code> : List of same length of trajs_out containing the labels of the corresponding trajectories. Each element contains a list with the labels of each trajectory, following the scheme: [idx_traj, D_1, alpha_1, state_1, CP_1, D_2, alpha_2, …. state_N]</p></li>
<li><p><code>labels_ens_out</code> : List of same length of trajs_out containing the ensemble labels of given experiment. See description of output matrix in <code>utils_challenge._extract_ensemble()</code>.</p></li>
</ul>
</section>
<section id="examples" class="level2">
<h2 class="anchored" data-anchor-id="examples">Examples</h2>
<p>We generate a dataset of trajectories from 5 different experiments. As we are not stating the opposite, each experiment will correspond to one of the 5 diffusion models considered in ANDI2022.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>num_experiments, num_fovs <span class="op">=</span> <span class="dv">5</span>, <span class="dv">1</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>dics <span class="op">=</span> []</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_experiments):    </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    dic <span class="op">=</span> _get_dic_andi2(i<span class="op">+</span><span class="dv">1</span>)    </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    dics.append(dic)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>df_list, _, _ <span class="op">=</span> challenge_2022_dataset(experiments <span class="op">=</span> num_experiments, </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                                       num_fovs <span class="op">=</span> num_fovs, </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                                       dics <span class="op">=</span> dics,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                                       return_timestep_labs <span class="op">=</span> <span class="va">True</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                                              )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"95d212c35142489a84797f6b645817ed","version_major":2,"version_minor":0}
</script>
</div>
</div>
<section id="distributions-parameters" class="level3">
<h3 class="anchored" data-anchor-id="distributions-parameters">Distributions parameters</h3>
<p>We first check how distributed are the diffusion parameters of the generated trajectories.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="bu">len</span>(df_list), figsize <span class="op">=</span> (<span class="bu">len</span>(df_list)<span class="op">*</span><span class="dv">2</span>, <span class="dv">2</span><span class="op">*</span><span class="dv">2</span>), tight_layout <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> df, ax, dic <span class="kw">in</span> <span class="bu">zip</span>(df_list, axs.transpose(), dics):</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    alphas <span class="op">=</span> df[<span class="st">'alpha'</span>]</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    Ds <span class="op">=</span> df[<span class="st">'D'</span>]</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    states <span class="op">=</span> df[<span class="st">'state'</span>]</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> u <span class="kw">in</span> np.unique(states):</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        ax[<span class="dv">0</span>].hist(alphas[states <span class="op">==</span> u], density <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        ax[<span class="dv">1</span>].hist(Ds[states <span class="op">==</span> u], density <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">0</span>].set_title(dic[<span class="st">'model'</span>])</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>plt.setp(axs[:,<span class="dv">0</span>], ylabel <span class="op">=</span> <span class="st">'Frequency'</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>plt.setp(axs[<span class="dv">0</span>,:], xlabel <span class="op">=</span> <span class="vs">r'$\alpha$'</span>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>plt.setp(axs[<span class="dv">1</span>,:], xlabel <span class="op">=</span> <span class="vs">r'$D$'</span>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>''</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="datasets_challenge_files/figure-html/cell-7-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="fovs" class="level3">
<h3 class="anchored" data-anchor-id="fovs">FOVs</h3>
<p>We can also check that generating multiple FOVS from every experiments actually choses random FOVs in the desired space.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>num_fovs <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>df_fov, _ , lab_e <span class="op">=</span> challenge_2022_dataset(experiments <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>],</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                                           num_fovs <span class="op">=</span>num_fovs, </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                                           return_timestep_labs <span class="op">=</span> <span class="va">True</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                                           )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"a5999131935240349abf7eb38145726e","version_major":2,"version_minor":0}
</script>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>